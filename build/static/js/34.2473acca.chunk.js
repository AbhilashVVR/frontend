(this["webpackJsonplang-wayz"]=this["webpackJsonplang-wayz"]||[]).push([[34],{620:function(e,c,a){"use strict";a.r(c);var t=a(20),n=a(14),r=a(294),s=a(310),o=a(299),i=a(71),l=a(337),d=a(351),u=a(425),b=a(272),j=a(23),x=a(321),m=a(0),h=a.n(m),O=a(15),f=a(56),v=a.n(f),y=a(43),g=a(1);c.default=function(){var e=Object(O.h)().exerciseId,c=h.a.useState([]),a=Object(n.a)(c,2),m=a[0],f=a[1],p=h.a.useState(""),C=Object(n.a)(p,2),E=C[0],S=C[1],k=h.a.useState(!0),N=Object(n.a)(k,2),G=N[0],w=N[1],B=Object(O.g)(),T=h.a.useState(!1),U=Object(n.a)(T,2),J=U[0],A=U[1];h.a.useEffect((function(){fetch("".concat(j.a.apiServer,"/category/getAllCategory")).then((function(e){return e.json()})).then((function(c){var a=c.find((function(c){return c.id===e}));S(a.categoryName)}))}),[e]),h.a.useEffect((function(){fetch("".concat(j.a.apiServer,"/category/getAllSubCategories/").concat(e)).then((function(e){return e.json()})).then((function(e){f(e),w(!1)}))}),[e,J]);var D=m.map((function(e,c){return e.subCategoryName})),z=m.map((function(e,c){return e.subCategoryGrades})),P=m.map((function(e,c){return e.id})),q=m.map((function(e,c){return e.isEnabled}));if(G)return null;var F={subExercise:Object(t.a)(m),exerciseName:E},I=function(){B("/admin/exercise/exercise-list")};return Object(g.jsx)(y.a,{title:"Edit exercise",children:Object(g.jsx)(x.e,{initialValues:F,onSubmit:function(c,a){!function(c){var a={exerciseName:c.exerciseName,subCategory:c.subExercise.map((function(e){return e}))};fetch("".concat(j.a.apiServer,"/category/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(){v()("Update successful","","success"),B("/admin/exercise/exercise-list")})).catch((function(e){v()("Update failed","","error")}))}(c),a.resetForm()},children:function(e){var c=e.values,a=e.errors,t=e.touched;return Object(g.jsxs)(x.d,{children:[Object(g.jsxs)(r.a,{container:!0,rowSpacing:1,columnSpacing:{xs:1,sm:2,md:3},children:[Object(g.jsx)(r.a,{item:!0,xs:12,md:12,children:Object(g.jsx)(x.b,{id:"exerciseName",as:s.a,name:"exerciseName",label:"Exercise Name",margin:"normal",style:{width:"100%",marginBottom:"20px"},color:"secondary",type:"name",value:E,readOnly:!0,disabled:!0,error:Boolean(a.exerciseName)&&Boolean(t.exerciseName),helperText:Boolean(t.exerciseName)&&a.exerciseName})}),Object(g.jsx)(r.a,{item:!0,xs:12,md:12,children:Object(g.jsx)(x.c,{name:"subExercise",children:function(e){var a,t=e.remove,n=e.push;return Object(g.jsx)("div",{children:(null===c||void 0===c||null===(a=c.subExercise)||void 0===a?void 0:a.length)>0&&c.subExercise.map((function(e,c){var a,h,O,f,y,p,C;return Object(g.jsxs)(r.a,{container:!0,rowSpacing:1,columnSpacing:{xs:1,sm:2,md:3},style:{marginBottom:"20px"},children:[Object(g.jsx)(r.a,{item:!0,xs:12,md:12,children:0===c&&Object(g.jsx)(o.a,{sx:{mb:2},variant:"contained",color:"secondary",onClick:function(){return n("")},children:"Add Sub-Category"})}),Object(g.jsxs)(r.a,{item:!0,xs:12,md:4,children:[Object(g.jsxs)(i.a,{variant:"h4",display:"block",gutterBottom:!0,sx:{mb:2},children:["SubExercise - ",c+1]}),Object(g.jsx)(x.b,{as:s.a,label:"Sub-Exercise",name:"subExercise[".concat(c,"].subCategoryName"),style:{width:"100%",marginBottom:"0"},valuedefault:D[c]||"",color:"secondary",required:!0}),Object(g.jsxs)("span",{children:[Object(g.jsx)(l.a,{onClick:function(e){return a=P[c],t=e.target.checked,void fetch("".concat(j.a.apiServer,"/category/").concat(a,"/enableDisableSubCategory"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:t})}).then((function(e){return e.json()})).then((function(e){e&&(A(!J),v()("Update successful","","success"))})).catch((function(e){}));var a,t},defaultChecked:!!q[c],color:"secondary"})," ",q[c]?"Enable":"Disable"]})]}),Object(g.jsxs)(r.a,{item:!0,xs:12,md:6,children:[Object(g.jsx)(i.a,{variant:"h4",display:"block",gutterBottom:!0,sx:{mb:2},children:"Grades"}),Object(g.jsx)("label",{children:Object(g.jsx)(x.b,{as:d.a,control:Object(g.jsx)(u.a,{color:"secondary",defaultChecked:!!(null===(a=z[c])||void 0===a?void 0:a.includes("1"))}),label:"1",name:"subExercise[".concat(c,"].subCategoryGrades"),value:"1"})}),Object(g.jsx)("label",{children:Object(g.jsx)(x.b,{as:d.a,control:Object(g.jsx)(u.a,{color:"secondary",defaultChecked:!!(null===(h=z[c])||void 0===h?void 0:h.includes("2"))}),label:"2",name:"subExercise[".concat(c,"].subCategoryGrades"),value:"2"})}),Object(g.jsx)("label",{children:Object(g.jsx)(x.b,{as:d.a,control:Object(g.jsx)(u.a,{color:"secondary",defaultChecked:!!(null===(O=z[c])||void 0===O?void 0:O.includes("3"))}),label:"3",name:"subExercise[".concat(c,"].subCategoryGrades"),value:"3"})}),Object(g.jsx)("label",{children:Object(g.jsx)(x.b,{as:d.a,control:Object(g.jsx)(u.a,{color:"secondary",defaultChecked:!!(null===(f=z[c])||void 0===f?void 0:f.includes("4"))}),label:"4",name:"subExercise[".concat(c,"].subCategoryGrades"),value:"4"})}),Object(g.jsx)("label",{children:Object(g.jsx)(x.b,{as:d.a,control:Object(g.jsx)(u.a,{color:"secondary",defaultChecked:!!(null===(y=z[c])||void 0===y?void 0:y.includes("5"))}),label:"5",name:"subExercise[".concat(c,"].subCategoryGrades"),value:"5"})}),Object(g.jsx)("label",{children:Object(g.jsx)(x.b,{as:d.a,control:Object(g.jsx)(u.a,{color:"secondary",defaultChecked:!!(null===(p=z[c])||void 0===p?void 0:p.includes("6"))}),label:"6",name:"subExercise[".concat(c,"].subCategoryGrades"),value:"6"})}),Object(g.jsx)("label",{children:Object(g.jsx)(x.b,{as:d.a,control:Object(g.jsx)(u.a,{color:"secondary",defaultChecked:!!(null===(C=z[c])||void 0===C?void 0:C.includes("other"))}),label:"Other",name:"subExercise[".concat(c,"].subCategoryGrades"),value:"other"})})]}),Object(g.jsx)(r.a,{item:!0,xs:12,md:2,children:Object(g.jsx)(b.a,{children:m.length<c+1&&Object(g.jsx)(o.a,{variant:"contained",color:"error",onClick:function(){return t(c)},sx:{mt:4},children:"Delete"})})})]},c)}))})}})})]}),Object(g.jsx)(o.a,{variant:"contained",color:"secondary",type:"submit",children:"Submit"}),Object(g.jsx)(o.a,{onClick:I,variant:"contained",color:"error",sx:{ml:2},children:"Cancel"})]})}})})}}}]);
//# sourceMappingURL=34.2473acca.chunk.js.map