(this["webpackJsonplang-wayz"]=this["webpackJsonplang-wayz"]||[]).push([[24],{371:function(e,t,a){},626:function(e,t,a){"use strict";a.r(t);var n=a(12),i=a(14),c=a(625),l=a(636),s=a(637),o=a(272),d=a(294),r=a(310),u=a(71),j=a(592),b=a(290),m=a(308),h=a(337),p=a(299),x=a(311),g=a(353),O=a.n(g),f=a(0),v=a(15),y=a(56),k=a.n(y),C=a(43),T=a(23),w=(a(131),a(646)),S=(a(371),a(1));t.default=function(){var e=Object(v.g)(),t=Object(v.h)().gameId,a=Object(f.useState)({}),g=Object(i.a)(a,2),y=g[0],N=g[1],L=Object(f.useState)(y.gameName),F=Object(i.a)(L,2),P=F[0],U=F[1],I=Object(f.useState)(y.gameDescription),V=Object(i.a)(I,2),G=V[0],W=V[1],D=Object(f.useState)(!1),M=Object(i.a)(D,2),B=M[0],q=M[1],A=Object(f.useState)(null),R=Object(i.a)(A,2),z=R[0],H=R[1],J=Object(f.useState)(""),_=Object(i.a)(J,2),K=_[0],E=_[1],$=Object(f.useState)({}),Q=Object(i.a)($,2),X=Q[0],Y=Q[1],Z=Object(f.useState)(!1),ee=Object(i.a)(Z,2),te=ee[0],ae=ee[1],ne=Object(f.useState)(!1),ie=Object(i.a)(ne,2),ce=ie[0],le=ie[1],se=Object(f.useState)(!1),oe=Object(i.a)(se,2),de=oe[0],re=oe[1],ue=Object(f.useState)(!1),je=Object(i.a)(ue,2),be=je[0],me=je[1],he=Object(f.useState)(!1),pe=Object(i.a)(he,2),xe=pe[0],ge=pe[1],Oe=Object(f.useState)(!1),fe=Object(i.a)(Oe,2),ve=fe[0],ye=fe[1],ke=Object(f.useState)(""),Ce=Object(i.a)(ke,2),Te=Ce[0],we=Ce[1],Se=Object(f.useState)(""),Ne=Object(i.a)(Se,2),Le=Ne[0],Fe=Ne[1],Pe=Object(f.useState)(!0),Ue=Object(i.a)(Pe,2),Ie=Ue[0],Ve=Ue[1],Ge=Object(f.useState)(!1),We=Object(i.a)(Ge,2),De=We[0],Me=We[1],Be=Object(f.useState)(""),qe=Object(i.a)(Be,2),Ae=qe[0],Re=qe[1],ze=new FormData,He=Object(f.useState)(!1),Je=Object(i.a)(He,2),_e=Je[0],Ke=Je[1],Ee={};Object(f.useEffect)((function(){fetch("".concat(T.a.apiServer,"/game/").concat(t,"/get-game")).then((function(e){return e.json()})).then((function(e){N(e),ae("New"===e.gameType),le("Featured"===e.gameType),re(e.singlePlayer),me(e.multiPlayer),ye(e.website),W(e.gameDescription),U(e.gameName),E(e.appType),we(e.html5Link),Fe(e.gameVersion)}))}),[t]);return Object(S.jsx)(S.Fragment,{children:Object(S.jsx)(C.a,{title:"Game Edit",children:_e?Object(S.jsx)(o.a,{sx:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object(S.jsx)(w.a,{color:"secondary"})}):Object(S.jsxs)("form",{onSubmit:function(t){if(t.preventDefault(),Ke(!0),z){var a=z[0],n=X[0];(function(e){var t=new Promise((function(t,a){var n=new FileReader;n.readAsDataURL(e),n.onload=function(){return t(n.result)},n.onerror=function(e){return a(e)}}));return t})(a).then((function(t){var a=t.length-"data:image/png;base64,".length;if(4*Math.ceil(a/3)*.5624896334383812/1e3<200){ce&&(Ee.gameType="Featured"),te&&(Ee.gameType="New"),Ee.gameIcon=t,Ee.singlePlayer=de,Ee.multiPlayer=be,Ee.dailyCompetition=xe,Ee.website=ve,Ee.gameDescription=G,Ee.gameVersion=Le,Ee.packageName=null===y||void 0===y?void 0:y.packageName,Ee.actionName=null===y||void 0===y?void 0:y.actionName,Ee.html5Link=Te||y.html5Link,Ee.appType=K,Ee.gameName=P;var i=/^[0-9\b]+$/;if(i.test(P)||i.test(G))return Re("Please enter a valid name, it should not contain numbers");ze.append("file_path",n),ze.append("data",JSON.stringify(Ee));O.a.put("".concat(T.a.apiServer,"/game/").concat(null===y||void 0===y?void 0:y.id,"/edit-game"),ze,{headers:{"Content-Type":"application/json",charset:"utf-8"}}).then((function(t){Ke(!1),t.data?k()({title:"Game Updated",text:"Game Updated Successfully",icon:"success",button:!0}).then((function(t){t&&e("/admin/games/game-list")})):k()({title:"Game Updated Failed",text:"Game Updated Failed",icon:"error",button:!0})})).catch((function(e){}))}else q(!0)}))}else{var i=X[0];ce&&(Ee.gameType="Featured"),te&&(Ee.gameType="New"),Ee.gameIcon=null===y||void 0===y?void 0:y.gameIcon,Ee.singlePlayer=de,Ee.multiPlayer=be,Ee.dailyCompetition=xe,Ee.website=ve,Ee.gameDescription=G,Ee.gameVersion=Le,Ee.packageName=null===y||void 0===y?void 0:y.packageName,Ee.actionName=null===y||void 0===y?void 0:y.actionName,Ee.html5Link=Te||y.html5Link,Ee.appType=K,Ee.gameName=P;var c=/^[0-9\b]+$/;if(c.test(P)||c.test(G))return Re("Please enter a valid name, it should not contain numbers");i?ze.append("file_path",i):Ee.apkLink=null===y||void 0===y?void 0:y.apkLink,console.log(Ee),ze.append("data",JSON.stringify(Ee));O.a.put("".concat(T.a.apiServer,"/game/").concat(null===y||void 0===y?void 0:y.id,"/edit-game"),ze,{headers:{"Content-Type":"application/json",charset:"utf-8"}}).then((function(t){Ke(!1),t.data?k()({title:"Game Updated",text:"Game Updated Successfully",icon:"success",buttons:!0}).then((function(t){t&&e("/admin/games/game-list")})):k()({title:"Game Updated Failed",text:"Game Updated Failed",icon:"error",button:!0})})).catch((function(e){}))}},children:[Object(S.jsxs)(d.a,{container:!0,rowSpacing:1,columnSpacing:{xs:1,sm:2,md:3},children:[Object(S.jsx)(d.a,{item:!0,xs:12,md:6,sm:12,children:Object(S.jsx)(r.a,{onChange:function(e){return U(e.target.value)},id:"outlined-basic",variant:"outlined",color:"secondary",fullWidth:!0,value:(null===y||void 0===y?void 0:y.gameName)||"",helperText:Ae?Object(S.jsx)("span",{style:{color:"red"},children:Ae}):"",disabled:!0})}),Object(S.jsx)(d.a,{item:!0,xs:12,md:6,sm:12,sx:{"& .css-1u3bzj6-MuiFormControl-root-MuiTextField-root":{width:"100%"}},children:Object(S.jsx)(c.b,{dateAdapter:s.a,children:Object(S.jsx)(l.a,{id:"outlined-basic",label:"Created On",margin:"normal",disabled:!0,defaultValue:null===y||void 0===y?void 0:y.createdAt,renderInput:function(e){return Object(S.jsx)(r.a,Object(n.a)({},e))},onChange:function(e){return e.preventDefault()}})})}),Object(S.jsx)(d.a,{item:!0,xs:12,sm:12,children:Object(S.jsx)(r.a,{id:"outlined-basic",variant:"outlined",margin:"normal",color:"secondary",defaultValue:null===y||void 0===y?void 0:y.gameDescription,fullWidth:!0,multiline:!0,rows:3,helperText:Ae?Object(S.jsx)("span",{style:{color:"red"},children:Ae}):"",required:!0,onChange:function(e){return W(e.target.value)}})}),Object(S.jsx)(d.a,{item:!0,xs:12,sm:6,children:Object(S.jsxs)(o.a,{children:[Object(S.jsx)(u.a,{variant:"caption",display:"block",gutterBottom:!0,children:"Upload Image (*Image Size should be less than 200 KB)"}),Object(S.jsx)("label",{htmlFor:"contained-button-file",children:Object(S.jsx)("span",{className:"imageFieldPosition",children:Object(S.jsx)("input",{className:"FlexButton_uploadText",id:"contained-button-file",accept:"image/*",type:"file",style:{display:"block"},onChange:function(e){return H(e.target.files)}})})}),B&&Object(S.jsx)(j.a,{variant:"outlined",severity:"error",children:'"Oops!", "Image size should be less than 200 KB"'})]})}),Object(S.jsx)(d.a,{item:!0,xs:12,sm:6,children:Object(S.jsx)(o.a,{sx:{minWidth:120},children:Object(S.jsxs)(x.a,{fullWidth:!0,children:[Object(S.jsx)(u.a,{variant:"caption",display:"block",gutterBottom:!0,children:"Game Type"}),Object(S.jsxs)(b.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:K||"",color:"secondary",onChange:function(e){E(e.target.value)},required:!0,children:[Object(S.jsx)(m.a,{value:"html5",children:"HTML5"}),Object(S.jsx)(m.a,{value:"apk",children:"APK"})]})]})})}),Object(S.jsx)(d.a,{item:!0,xs:12,md:6,sm:12,children:"apk"===K&&Object(S.jsx)("label",{children:Object(S.jsxs)(o.a,{sx:{mt:1},children:[Object(S.jsx)(u.a,{variant:"caption",display:"block",gutterBottom:!0,children:"Upload Apk"}),Object(S.jsx)("input",{className:"FlexButton_uploadText",id:"contained-button-file",accept:".apk,.xapk",type:"file",style:{display:"block"},onChange:function(e){return Y(e.target.files)}})]})})}),Object(S.jsx)(d.a,{item:!0,xs:12,md:6,sm:12,children:"apk"===K&&Object(S.jsx)(r.a,{sx:{mt:4},id:"outlined-basic",label:"Game Version",variant:"outlined",fullWidth:!0,color:"secondary",defaultValue:null===y||void 0===y?void 0:y.gameVersion,onChange:function(e){return Fe(e.target.value)}})}),Object(S.jsx)(d.a,{item:!0,xs:12,md:6,sm:12,children:"apk"===K&&Object(S.jsx)(r.a,{style:{marginTop:"17px"},id:"outlined-basic",label:"Activity Name",variant:"outlined",fullWidth:!0,color:"secondary",disabled:!0,defaultValue:null===y||void 0===y?void 0:y.actionName})}),Object(S.jsx)(d.a,{item:!0,xs:12,md:6,sm:12,children:"apk"===K&&Object(S.jsx)(r.a,{style:{marginTop:"17px"},id:"outlined-basic",label:"Package Name",variant:"outlined",fullWidth:!0,color:"secondary",disabled:!0,defaultValue:null===y||void 0===y?void 0:y.packageName})}),Object(S.jsxs)(d.a,{item:!0,xs:12,md:6,sm:12,children:[Object(S.jsx)(u.a,{sx:{marginTop:"15px"},variant:"h3",children:"Game Type"}),Object(S.jsxs)(u.a,{sx:{marginTop:"15px"},variant:"h4",children:["New"," ",Object(S.jsx)("span",{children:("New"===(null===y||void 0===y?void 0:y.gameType)||"html5"===(null===y||void 0===y?void 0:y.gameType))&&Object(S.jsx)(h.a,{color:"secondary",defaultChecked:!0,disabled:De,onChange:function(e){ae(e.target.checked),Ve(e.target.checked)}})})," "]}),Object(S.jsxs)(u.a,{sx:{marginTop:"15px"},variant:"h4",children:["Featured"," ",Object(S.jsxs)("span",{children:["Featured"===(null===y||void 0===y?void 0:y.gameType)&&Object(S.jsx)(h.a,{color:"secondary",defaultChecked:!0,disabled:De,onChange:function(e){le(e.target.checked)}}),"Featured"!==(null===y||void 0===y?void 0:y.gameType)&&Object(S.jsx)(h.a,{color:"secondary",disabled:Ie,onChange:function(e){le(e.target.checked),Me(e.target.checked)}})]})," "]})]}),Object(S.jsxs)(d.a,{item:!0,xs:12,md:6,sm:12,children:[Object(S.jsx)(u.a,{sx:{marginTop:"15px",mb:1},variant:"h3",children:"Game Functions (Min. One)"}),Object(S.jsxs)(o.a,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1.5},children:[Object(S.jsxs)(u.a,{sx:{marginTop:"15px",width:"40%"},variant:"h4",children:["Single Player"," ",Object(S.jsxs)("span",{children:[y.singlePlayer&&Object(S.jsx)(h.a,{defaultChecked:!0,color:"secondary",onChange:function(e){return re(e.target.checked)}}),!y.singlePlayer&&Object(S.jsx)(h.a,{color:"secondary",onChange:function(e){return re(e.target.checked)}})]})," "]}),Object(S.jsx)(o.a,{sx:{width:"60%"},children:"html5"===K&&de&&Object(S.jsx)(r.a,{id:"outlined-basic",label:"HTML5 URL",variant:"outlined",fullWidth:!0,color:"secondary",onChange:function(e){we(e.target.value)},defaultValue:null===y||void 0===y?void 0:y.html5Link,required:!0})})]}),Object(S.jsxs)(o.a,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1.5},children:[Object(S.jsxs)(u.a,{sx:{marginTop:"15px",width:"40%"},variant:"h4",children:["Multi Player"," ",Object(S.jsxs)("span",{children:[y.multiPlayer&&Object(S.jsx)(h.a,{defaultChecked:!0,color:"secondary",onChange:function(e){return me(e.target.checked)}}),!y.multiPlayer&&Object(S.jsx)(h.a,{color:"secondary",onChange:function(e){return me(e.target.checked)}})]})," "]}),Object(S.jsx)(o.a,{sx:{width:"60%"},children:"html5"===K&&be&&Object(S.jsx)(r.a,{id:"outlined-basic",label:"HTML5 URL",variant:"outlined",fullWidth:!0,color:"secondary",onChange:function(e){we(e.target.value)},defaultValue:null===y||void 0===y?void 0:y.html5Link,required:!0})})]}),Object(S.jsxs)(o.a,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1.5},children:[Object(S.jsxs)(u.a,{sx:{marginTop:"15px",width:"40%"},variant:"h4",children:["Daily Competition"," ",Object(S.jsxs)("span",{children:[y.dailyCompetition&&Object(S.jsx)(h.a,{defaultChecked:!0,color:"secondary",onChange:function(e){return ge(e.target.checked)}}),!y.dailyCompetition&&Object(S.jsx)(h.a,{color:"secondary",onChange:function(e){return ge(e.target.checked)}})]})," "]}),Object(S.jsx)(o.a,{sx:{width:"60%"},children:"html5"===K&&xe&&Object(S.jsx)(r.a,{id:"outlined-basic",label:"HTML5 URL",variant:"outlined",fullWidth:!0,color:"secondary",onChange:function(e){we(e.target.value)},defaultValue:null===y||void 0===y?void 0:y.html5Link,required:!0})})]}),Object(S.jsxs)(o.a,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1.5},children:[Object(S.jsxs)(u.a,{sx:{marginTop:"15px",width:"40%"},variant:"h4",children:["Website",Object(S.jsxs)("span",{children:[y.website&&Object(S.jsx)(h.a,{defaultChecked:!0,color:"secondary",onChange:function(e){return ye(e.target.checked)}}),!y.website&&Object(S.jsx)(h.a,{color:"secondary",onChange:function(e){return ye(e.target.checked)}})]})," "]}),Object(S.jsx)(o.a,{sx:{width:"60%"},children:"html5"===K&&ve&&Object(S.jsx)(r.a,{id:"outlined-basic",label:"HTML5 URL",variant:"outlined",fullWidth:!0,color:"secondary",onChange:function(e){we(e.target.value)},defaultValue:null===y||void 0===y?void 0:y.html5Link,required:!0})})]})]})]}),Object(S.jsx)(p.a,{sx:{marginTop:"30px"},type:"submit",variant:"contained",color:"secondary",children:"Submit"})]})})})}}}]);
//# sourceMappingURL=24.d69ad2a1.chunk.js.map