(this["webpackJsonplang-wayz"]=this["webpackJsonplang-wayz"]||[]).push([[31],{561:function(e,t,n){},644:function(e,t,n){"use strict";n.r(t);var a=n(14),r=n(165),c=n(225),o=n(226),i=n(227),l=n(167),d=n(168),s=n(228),u=n(299),j=n(219),b=n(218),h=n(17),m=n(23),O=n(0),f=n(56),p=n.n(f),g=n(43),x=n(12),w=n(310),v=n(272),y=n(292),S=n(321),N=n(323),R=(n(561),n(1)),C={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",boxShadow:24,p:4},P=function(e){var t=e.open,n=e.handleClose,a=e.singleReward,r=e.pageReload,c=e.setPageReload,o={rewardName:null===(null===a||void 0===a?void 0:a.rewardName)?"":null===a||void 0===a?void 0:a.rewardName,amount:null===(null===a||void 0===a?void 0:a.amount)?"":null===a||void 0===a?void 0:a.amount},i=N.c({rewardName:N.d().required("required field"),amount:N.b().required("required field")});return Object(R.jsx)("div",{children:Object(R.jsx)(y.a,{open:t,onClose:n,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(R.jsx)(v.a,{sx:C,children:Object(R.jsx)(S.e,{initialValues:o,onSubmit:function(e){var t={id:a.id,name:e.rewardName,coin:Number(e.amount)};fetch("".concat(m.a.apiServer,"/rewards/updateReward"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){n(),e&&(n(),p()("Update Successfully","","success"),c(!r))})).catch((function(e){p()("Error!","Something went wrong","wrong")}))},validationSchema:i,children:Object(R.jsxs)(S.d,{children:[Object(R.jsx)(S.b,{name:"rewardName",children:function(e){var t=e.field,n=e.meta;return Object(R.jsx)(w.a,Object(x.a)({error:!(!n.touched||!n.error),id:"rewardName",label:"Reward Name ".concat(n.touched&&n.error?"*":""),sx:{width:1},placeholder:"Text only",variant:"outlined",color:"secondary",name:"rewardName",margin:"normal",style:{width:"100%"}},t))}}),Object(R.jsx)(S.b,{name:"amount",children:function(e){var t=e.field,n=e.meta;return Object(R.jsx)(w.a,Object(x.a)({error:!(!n.touched||!n.error),id:"amount",label:"Amount ".concat(n.touched&&n.error?"*":""),sx:{width:1},placeholder:"Number only",variant:"outlined",color:"secondary",name:"amount",margin:"normal",style:{width:"100%"}},t))}}),Object(R.jsx)(u.a,{type:"submit",variant:"contained",color:"secondary",children:"Update"})]})})})})})},k=Object(b.a)((function(e){return{table:{minWidth:650},tableContainer:{borderRadius:15},tableHeaderCell:{"& .MuiTableCell-head":{fontWeight:700,color:e.palette.secondary.main,fontSize:16}}}}));t.default=function(){var e=Object(O.useState)(!1),t=Object(a.a)(e,2),n=t[0],b=t[1],f=function(){return b(!1)},x=Object(O.useState)([]),w=Object(a.a)(x,2),v=w[0],y=w[1],S=Object(O.useState)({}),N=Object(a.a)(S,2),C=N[0],q=N[1],A=Object(O.useState)(!1),J=Object(a.a)(A,2),T=J[0],z=J[1],W=Object(O.useState)(0),D=Object(a.a)(W,2),E=D[0],H=D[1],M=Object(O.useState)(5),U=Object(a.a)(M,2),Y=U[0],F=U[1],I=k();Object(O.useEffect)((function(){fetch("".concat(m.a.apiServer,"/rewards/getAllRewards")).then((function(e){return e.json()})).then((function(e){for(var t=[],n=0;n<e.length;n+=1){var a=e[n];a.sl=n+1,t.push(a)}y(t)})).catch({})}),[T]);var L=function(e){b(!0);var t=v.find((function(t){return t.id===e}));q(t)};return Object(R.jsx)(R.Fragment,{children:Object(R.jsx)(g.a,{title:"Rewards List",children:Object(R.jsxs)(r.a,{children:[Object(R.jsx)(c.a,{component:r.a,className:I.tableContainer,children:Object(R.jsxs)(o.a,{className:I.table,"aria-label":"simple table",children:[Object(R.jsx)(i.a,{children:Object(R.jsxs)(l.a,{className:I.tableHeaderCell,children:[Object(R.jsx)(d.a,{align:"center",children:"SI. No."}),Object(R.jsx)(d.a,{align:"center",children:"Reward Name"}),Object(R.jsx)(d.a,{align:"center",children:"Coin"}),Object(R.jsx)(d.a,{align:"center",children:"Action"})]})}),Object(R.jsx)(s.a,{children:v.slice(E*Y,E*Y+Y).map((function(e,t){return Object(R.jsxs)(l.a,{children:[Object(R.jsx)(d.a,{align:"center",component:"th",scope:"row",children:null===e||void 0===e?void 0:e.sl}),Object(R.jsx)(d.a,{align:"center",children:e.rewardName}),Object(R.jsx)(d.a,{align:"center",children:e.amount}),Object(R.jsxs)(d.a,{align:"center",children:[Object(R.jsx)(u.a,{color:"secondary",onClick:function(){return L(e.id)},children:Object(R.jsx)(h.l,{})}),Object(R.jsx)(u.a,{color:"secondary",onClick:function(){return t=e.id,void p()({title:"Are you sure?",text:"You Want to Delete!",icon:"warning",buttons:!0,dangerMode:!0}).then((function(e){e?fetch("".concat(m.a.apiServer,"/rewards/deleteRewards"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({id:t})}).then((function(e){return e.json()})).then((function(e){if(e){p()("Delete Successfully");var n=null===v||void 0===v?void 0:v.filter((function(e){return e.id!==t}));y(n)}})):p()("Your file is safe!")}));var t},children:Object(R.jsx)(h.v,{})}),Object(R.jsx)(P,{open:n,handleClose:f,singleReward:C,pageReload:T,setPageReload:z})]})]},t)}))})]})}),Object(R.jsx)(j.a,{rowsPerPageOptions:[5,10,25,100],component:"div",count:v.length,rowsPerPage:Y,page:E,onPageChange:function(e,t){H(t)},onRowsPerPageChange:function(e){F(+e.target.value),H(0)}})]})})})}}}]);
//# sourceMappingURL=31.93e32256.chunk.js.map